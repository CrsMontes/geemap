{"code": "// 01 repo\r\nvar piscoeopm_clim = ee.ImageCollection(\r\n  \"users/lgutierrezlf/PISCOeo_pm/climatology\"\r\n);\r\nvar sst = piscoeopm_clim.filterDate(\"2016-01-01\", \"2016-12-31\");\r\nvar vis = { min: 0, max: 2000, palette: \"#E1F3FF,#7DC0ED,#3291D0,#02548A\" };\r\nvar composite = sst.sum().visualize(vis);\r\nvar compositeLayer = ui.Map.Layer(composite).setName(\"Climatology\");\r\nvar mapPanel = ui.Map();\r\nvar layers = mapPanel.layers();\r\nlayers.add(compositeLayer, \"Climatology\");\r\n// 02 Panel General\r\nvar inspectorPanel = ui.Panel({ style: { width: \"30%\" } });\r\nvar intro = ui.Panel([\r\n  ui.Label({\r\n    value: \"PISCOeo_pm evapotranspiration - Explorer\",\r\n    style: { fontSize: \"20px\", fontWeight: \"bold\" },\r\n  }),\r\n  ui.Label(\"Click a location to see its time series of evapotranspiration.\"),\r\n]);\r\ninspectorPanel.add(intro);\r\nvar lon = ui.Label();\r\nvar lat = ui.Label();\r\ninspectorPanel.add(ui.Panel([lon, lat], ui.Panel.Layout.flow(\"horizontal\")));\r\ninspectorPanel.add(ui.Label(\"[Chart]\"));\r\ninspectorPanel.add(ui.Label(\"[Legend]\"));\r\n// 03 Panel time series\r\nvar generateChart = function (coords) {\r\n  lon.setValue(\"lon: \" + coords.lon.toFixed(2));\r\n  lat.setValue(\"lat: \" + coords.lat.toFixed(2));\r\n  var point = ee.Geometry.Point(coords.lon, coords.lat);\r\n  var dot = ui.Map.Layer(point, { color: \"000000\" }, \"point location\");\r\n  mapPanel.layers().set(1, dot);\r\n  var sstChart = ui.Chart.image.series(sst, point, ee.Reducer.mean(), 500);\r\n  sstChart.setOptions({\r\n    title: \"PISCOeo_pm: Climatology\",\r\n    vAxis: { title: \"Eo_pm (mm/month)\" },\r\n    hAxis: { title: \"Month\", format: \"MM\", gridlines: { count: 12 } },\r\n    series: {\r\n      0: {\r\n        color: \"steelblue\",\r\n        lineWidth: 0.7,\r\n        pointsVisible: false,\r\n        pointSize: 0,\r\n      },\r\n    },\r\n    legend: { position: \"right\" },\r\n  });\r\n  inspectorPanel.widgets().set(2, sstChart);\r\n};\r\n// 04 Panel Legend\r\nfunction makeColorBarParams(palette) {\r\n  return {\r\n    bbox: [0, 0, 1, 0.1],\r\n    dimensions: \"100x10\",\r\n    format: \"png\",\r\n    min: 0,\r\n    max: 1,\r\n    palette: palette,\r\n  };\r\n}\r\nvar colorBar = ui.Thumbnail({\r\n  image: ee.Image.pixelLonLat().select(0),\r\n  params: makeColorBarParams(vis.palette),\r\n  style: { stretch: \"horizontal\", margin: \"0px 8px\", maxHeight: \"24px\" },\r\n});\r\nvar legendLabels = ui.Panel({\r\n  widgets: [\r\n    ui.Label(vis.min, { margin: \"4px 8px\" }),\r\n    ui.Label(vis.max / 2, {\r\n      margin: \"4px 8px\",\r\n      textAlign: \"center\",\r\n      stretch: \"horizontal\",\r\n    }),\r\n    ui.Label(vis.max, { margin: \"4px 8px\" }),\r\n  ],\r\n  layout: ui.Panel.Layout.flow(\"horizontal\"),\r\n});\r\nvar legendTitle = ui.Label({\r\n  value: \"Map Legend: Evapotranspiration (mm)\",\r\n  style: { fontWeight: \"bold\" },\r\n});\r\nvar legendPanel = ui.Panel([legendTitle, colorBar, legendLabels]);\r\ninspectorPanel.widgets().set(3, legendPanel);\r\n// 05 Map\r\nmapPanel.onClick(generateChart);\r\nmapPanel.style().set(\"cursor\", \"crosshair\");\r\nvar initialPoint = ee.Geometry.Point(-75.5, -10);\r\nmapPanel.centerObject(initialPoint, 6);\r\nui.root.clear();\r\nui.root.add(ui.SplitPanel(inspectorPanel, mapPanel));\r\ngenerateChart({\r\n  lon: initialPoint.coordinates().get(0).getInfo(),\r\n  lat: initialPoint.coordinates().get(1).getInfo(),\r\n});\r\n", "environment": "[]", "location": "264.8,34.8,4"}