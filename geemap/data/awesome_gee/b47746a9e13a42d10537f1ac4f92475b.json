{"code": "/**\nrain4pe: High-resolution gridded precipitation dataset for Peruvian and \nEcuadorian watersheds (1981-2015)\n\nImage properties: \n  - 'system:time_start' (Unix time)\nSpatial resolution: 0.1\u00b0 (or roughly 10km x 10km)\n\n\nGoogle Earth Engine assets:\n  - rain4pe monthly: \"users/csaybar/rainpe/monthly\"\n  - rain4pe daily: \"users/csaybar/rainpe/monthly\" \u0026 \"users/ryali93/rainpe/monthly\"\n  - rain4pe monthly climatology: \"users/csaybar/rainpe/monthly_clim\"\n  - rain4pe annual mean: \"users/csaybar/rainpe/annual\"\n  \nMore Information: https://dataservices.gfz-potsdam.de/pik/showshort.php?id=6f766e20-2d94-11eb-9603-497c92695674\n*/\n\n\n// 1. Global Parameters\nvar ROI = ee.Geometry.Rectangle([-74, -16, -71, -14]);\nvar start_date = \"1981-01-01\";\nvar end_date = \"2015-12-31\";\n\n\n// 2. Function to compute spatial average.\nvar ppreducer = function(rain4pe) {\n  var params = {collection: ROI, reducer: ee.Reducer.mean(), scale: 5000};\n  var image_value = rain4pe.reduceRegions(params).first().get('mean');\n  var image_date = rain4pe.get('system:time_start');\n  var ft = ee.Feature(null, {'system:time_start': image_date,\n                         'date': ee.Date(image_date).format('Y-M-d'), \n                         'value': image_value});\n  return ft;\n};\n\n\n// 3. Create a time series chart.\nvar rain4pe_daily_data = ee.ImageCollection(\"projects/sat-io/open-datasets/rainpe/daily\")\n\nvar rain4pe_data = rain4pe_daily_data.filterDate(start_date, end_date)\n                                     .map(ppreducer);\nvar graph = ui.Chart.feature.byFeature(\n  rain4pe_daily_data.filterDate(\"1981-06-01\", \"1982-06-01\").map(ppreducer), \n  'system:time_start', \n  'value'\n);\nprint(graph.setChartType(\"ColumnChart\")\n           .setOptions({vAxis: {title: 'PP (mm/day)'},\n                        hAxis: {title: 'Date'}}));\n\n\n// 4. Export results\nExport.table.toDrive({collection: rain4pe_data,\n                      selectors: 'date, value',\n                      description: \"rain4pe-daily-data\",\n                      fileNamePrefix:\"rain4pe_ts\"})\n                      \n\n// 5. Display a specific day\nvar daily_rain = ee.Image(\"users/ryali93/rainpe/daily/1998_01_25\")\nvar palette = [\n  '000096','0064ff', '00b4ff', '33db80', '9beb4a',\n  'ffeb00', 'ffb300', 'ff6400', 'eb1e00', 'af0000'\n];\n\nMap.addLayer(daily_rain, {min:0, max:80, palette: palette})\nMap.centerObject(ROI);\nMap.addLayer(ROI)", "environment": "[]", "location": "287.5,-15.004953225821126,6"}